---
layout: post
title: "HZNUer.com建站日志" 
comments: true
share: true
tags: 笔记
---


1. 采用阿里云ECS服务器，一开始用Ubuntu14.04，但是发现阿里云的官方推荐是CentOS，很多包和教程在Ubuntu上会有差异，而且鸟哥的Linux服务器书也是用CentOS，所以就打算换到CentOS了。

2. 去了解了下Docker，发现似乎应用场景并不在这种论坛类的网站上，所以就没用。

3. 用了驻云的一键安装web环境的包，发现php和mysql都是安装在alidata目录下，导致有些自动化脚本或者软件会找不到php文件夹，而且默认自带的phpwind论坛并不是我要得，删了后发现把phpmyadmin也给删了= = 妈的就不能弄一个快捷方式吗，非要把它放在phpwind目录里，导致我两次都删错把它全删了。给我的教训是，以后这种简单的事情尽量不要用自动化配置的脚本。

4. 把wecenter的文件复制到了根目录后，并且修改了nginx的配置文件后，一开始没有重启nginx服务，导致404.

5. 重启完成后，并且数据库啥的都弄好了后，发现报错了：

		Application error
		------
		Message: cache_dir "" must be a directory

	原因后来在社区里找到了,是没有在根目录下新建 cache tmp 和uploads三个目录。并且这三个目录要给予777权限。

6. 妈的手贱去弄了下rewrite，结果除了首页别的全部404，后来查了是ngnix.conf出的错，我手贱啊，去把默认配置那个复制到原本那个立马把它覆盖了。。。然后首页就变成ngnix的了，然后我就傻了。。。不知道怎么恢复，为了保险，我干脆直接重装了- - 心好累啊。。。给我的教训是。。和写项目一个样，实现一个功能就赶紧备份下，在做任何重要操作时候，都要即使备份相关文件。
7. CentOS真心不舒服，为了偷懒，我直接换回Ubuntu了，= = 我现在心好累啊
8. 以后命令行不要复制粘贴，养成手写的规矩，不然永远也脱离不了文档
9. 发现域名无法访问，但是ip是能够访问的。原因在于这次我是纯手动配置的环境，所以ngnix配置并没有弄好，这里超级奇怪的一点是，我不能够使用nginx的默认配置文件了，而要自己建立一个hznuer.com.txt文件，里面加上配置的信息。而且我发现我弄上这个后，ip无法访问了。。。我也是醉了，不过这个有一个好处，就是可以自己定义域名以及对应域名的文件夹位置，这样为我把博客给移植到那上面提供了方便。（后来搞清楚了nginx的配置文件的之所以能这样的原理，是由于nginx.conf里有一个include语句）
10. 开始考虑想要全站https化，虽然没啥必要，但是反正都在折腾了，干脆就干到底吧。(一个人已经成功把wecenter给https化了[https://ask.otrs.org.cn/](https://ask.otrs.org.cn/ "https://ask.otrs.org.cn/"))不过网上看到有人https化以后发现编辑器不能用了，我先试试看把。

	尝试后经过一系列折腾，最后成功，具体过程见文章：<< Ubuntu14.04服务器配置学习>> 的https化那栏。
11. 之后开始一系列后台管理配置，并开始更改样式，定制我自己的版本。源码修改记录我写在了文章：<< WeCenter源码学习笔记 >> 中。












----------

####  参考资料：  ####


- 1
